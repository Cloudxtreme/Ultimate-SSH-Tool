##DESCRP=Find and print information regarding php scripts sending mail with postfix.
function psfphp(){
PHPELOG=/root/support/.psfphp.log.`(date +"%m-%d-%Y")`
	echo "Searcing messages now..."
	grep -rin 'X-PHP-Originating-Script' /var/spool/postfix/deferred/ > $PHPELOG
	echo "`(cat $PHPELOG |wc -l)` entries of email originating from PHP Scripts."
}

## PERSONAL NOTES
#
# CHANGED grep -Rl to grep -rin (altering output for ease)
#
#PSFPEX=/root/support/.psfephp.example.`(date +"%m-%d-%Y")`
#PSFPOFS=/root/support/.psfepep.originfiles.`(date +"%m-%d-%Y")`
#
#List:
#--
#/var/spool/postfix/deferred/9/9692CAB7CB0
#/var/spool/postfix/deferred/9/9FCE4ABEFB1
#/var/spool/postfix/deferred/9/94883ABDD28
#/var/spool/postfix/deferred/9/91308ABE632
#/var/spool/postfix/deferred/9/9A8A6ABE5B3
#/var/spool/postfix/deferred/9/92B09ABE5AE
#--
#
#Have to take the last numbers < 9A8A6ABE5B3 >:
#--
## postcat -qv 95467ABDF46 >> $PSFPEX
#grep "X-PHP-Originating-Script" $PSFPEX
#
#returns:
#regular_text: X-PHP-Originating-Script: 10025:proxy.php
#
#strip results down to 10025:proxy.php with this, use sect1 for grepping /etc/passwd for user 
#dir:
#ais:x:10025:504::/var/www/vhosts/lawnsprinklerstampa.com:/bin/false (results wanted: 
#/var/www/vhosts/lawnsprinklerstampa.com) so now 
#ORIGINDIR=/var/www/vhosts/lawnsprinklerstampa.com 
#and PSFPNAME=proxy.php
#find $ORIGINDIR -type f -name "$PSFPNAME" >> results this:
#--
#/var/www/vhosts/lawnsprinklerstampa.com/httpdocs/wp-content/plugins/backwpup/vendor/OpenCloud/Identity/proxy.php
#/var/www/vhosts/lawnsprinklerstampa.com/httpdocs/wp-content/plugins/gravityformsmailchimp/languages/proxy.php
#--
# send to PSFPOFS
